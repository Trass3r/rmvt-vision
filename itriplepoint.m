function o = triplepoint(im)

    o = im;

se(:,:,1) = [   0  1 0   ;...
                 1  1  1   ;...
                0 0 0   ];

se(:,:,2) = [    1 0  1   ;...
                0  1 0   ;...
                0 0  1   ];

se(:,:,3) = [   0  1 0   ;...
                0  1  1   ;...
                0  1 0   ];

se(:,:,4) = [   0 0  1   ;...
                0  1 0   ;...
                 1 0  1   ];

se(:,:,5) = [   0 0 0   ;...
                 1  1  1   ;...
                0  1 0   ];

se(:,:,6) = [    1 0 0   ;...
                0  1 0   ;...
                 1 0  1   ];

se(:,:,7) = [   0  1 0   ;...
                 1  1 0   ;...
                0  1 0   ];

se(:,:,8) = [    1 0  1   ;...
                0  1 0   ;...
                 1 0 0   ];

se(:,:,9) = [   0  1 0   ;...
                0  1  1   ;...
                 1 0 0   ];

se(:,:,10)= [   0 0  1   ;...
                 1  1 0   ;...
                0 0  1   ];

se(:,:,11)= [    1 0 0   ;...
                0  1  1   ;...
                0  1 0   ];

se(:,:,12)= [   0  1 0   ;...
                0  1 0   ;...
                 1 0  1   ];

se(:,:,13)= [   0 0  1   ;...
                 1  1 0   ;...
                0  1 0   ];

se(:,:,14)= [    1 0 0   ;...
                0  1  1   ;...
                 1 0 0   ];

se(:,:,15)= [   0  1 0   ;...
                 1  1 0   ;...
                0 0  1   ];

se(:,:,16)= [    1 0  1   ;...
                0  1 0   ;...
                0  1 0   ];


o = zeros(size(im));
for i=1:16
        o = o | hitormiss(im, se(:,:,i));
end

if 0
    Sa = [NaN 1 NaN; NaN 1 NaN; 1 NaN 1];
    Sb = [1 NaN NaN; NaN 1 NaN; 1 NaN 1];

    o = zeros(size(im));
    for i=1:4
        o = o | hitormiss(im, Sa);
        o = o | hitormiss(im, Sb);
        Sa = rot90(Sa);
        Sb = rot90(Sb);
    end
end
